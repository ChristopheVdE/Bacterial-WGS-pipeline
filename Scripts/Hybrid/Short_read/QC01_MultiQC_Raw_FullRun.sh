#!bin/bash

############################################################################################################
#NAME SCRIPT: MultiQC.sh
#AUTHOR: Christophe van den Eynde
#RUNNING MultiQC
#USAGE: ./runMultiQC.sh
############################################################################################################

#FUNCTION--------------------------------------------------------------------------------------------------
usage() {
	errorcode=" \nERROR -> This script can have only 1 parameter:\n
          1: [OPTIONAL] Run date\n";
	echo ${errorcode};
	exit 1;
}
if [ "$#" -gt 1 ]; then
	usage
fi
echo
#-----------------------------------------------------------------------------------------------------------

#VARIABLES--------------------------------------------------------------------------------------------------
Run="$1"
#----------------------------------------------------------------------------------------------------------

#===========================================================================================================
# 1) MULTIQC FULL RUN (RAWDATA)
#===========================================================================================================

# CREATE FOLDERS--------------------------------------------------------------------------------------------
# create outputfolder MultiQC full run Rawdata
mkdir -p /home/Pipeline/Hybrid/${Run}/01_Short_reads/QC_MultiQC/QC-Rawdata
#-----------------------------------------------------------------------------------------------------------

# MultiQC FULL RUN------------------------------------------------------------------------------------------
echo -e "\nStarting MultiQC on Full RUN\n"
echo "----------"
multiqc /home/Pipeline/Hybrid/${Run}/temp \
-o /home/Pipeline/Hybrid/${Run}/01_Short_reads/QC_MultiQC/QC-Rawdata \
2>&1 | tee -a /home/Pipeline/Hybrid/${Run}/01_Short_reads/QC_MultiQC/QC-Rawdata/stdout_err.txt;
echo "----------"
echo -e "\nDone"
#-----------------------------------------------------------------------------------------------------------